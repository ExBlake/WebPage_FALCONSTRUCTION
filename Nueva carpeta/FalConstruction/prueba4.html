<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Journey Experience</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            min-height: 100vh;
            background: #000000;
        }

        body {
            color: #ffffff;
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
        }

        .scroll-container--Projects--Portfolio-Attachment {
            position: relative;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a0b2e 0%, #000000 100%) fixed;
        }

        .section--Projects--Portfolio-Attachment {
            min-height: 100vh;
            position: relative;
            padding: 5vh 5vw;
            display: flex;
            align-items: center;
            justify-content: space-between;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
            background: transparent;
        }

        .section--Projects--Portfolio-Attachment.active--Projects--Portfolio-Attachment {
            opacity: 1;
            transform: translateY(0);
        }

        .content--Projects--Portfolio-Attachment {
            width: 45%;
            position: sticky;
            top: 20vh;
            padding-right: 2rem;
            z-index: 2;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .image-container--Projects--Portfolio-Attachment {
            width: 45%;
            height: 70vh;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            z-index: 2;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .image-container--Projects--Portfolio-Attachment:hover {
            transform: scale(1.02);
        }

        .parallax-image--Projects--Portfolio-Attachment {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scale(1.1);
            transition: transform 0.5s ease;
        }

        .section-title--Projects--Portfolio-Attachment {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            margin-bottom: 1rem;
            line-height: 1.2;
            background: linear-gradient(to right, #ffffff, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            overflow: hidden;
        }

        .section-title--Projects--Portfolio-Attachment::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to left, #1a0b2e, transparent);
            transform: translateX(100%);
            transition: transform 1s ease;
        }

        .active--Projects--Portfolio-Attachment .section-title--Projects--Portfolio-Attachment::after {
            transform: translateX(-100%);
            transition-delay: 0.6s;
        }

        .section-subtitle--Projects--Portfolio-Attachment {
            font-size: 1rem;
            color: #a78bfa;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 1rem;
        }

        .section-text--Projects--Portfolio-Attachment {
            font-size: 1.1rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
        }

        .progress-bar--Projects--Portfolio-Attachment {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(to right, #7c3aed, #2563eb);
            z-index: 1000;
            transition: width 0.1s ease;
        }

        /* Modal styles */
        .modal--Projects--Portfolio-Attachment {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            padding: 20px;
            box-sizing: border-box;
        }

        .modal-content--Projects--Portfolio-Attachment {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .modal-main-image--Projects--Portfolio-Attachment {
            max-height: 70vh;
            max-width: 100%;
            object-fit: contain;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .modal-thumbnails--Projects--Portfolio-Attachment {
            display: flex;
            gap: 10px;
            justify-content: center;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
        }

        .modal-thumbnail--Projects--Portfolio-Attachment {
            width: 100px;
            height: 60px;
            object-fit: cover;
            cursor: pointer;
            border-radius: 4px;
            transition: transform 0.3s ease;
            opacity: 0.6;
        }

        .modal-thumbnail--Projects--Portfolio-Attachment.active {
            opacity: 1;
            transform: scale(1.1);
        }

        .modal-close--Projects--Portfolio-Attachment {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            cursor: pointer;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
        }

        @media (max-width: 768px) {
            .section--Projects--Portfolio-Attachment {
                flex-direction: column;
                padding: 3vh 5vw;
            }

            .content--Projects--Portfolio-Attachment, .image-container--Projects--Portfolio-Attachment {
                width: 100%;
            }

            .content--Projects--Portfolio-Attachment {
                position: relative;
                top: 0;
                padding-right: 0;
                margin-bottom: 2rem;
            }

            .image-container--Projects--Portfolio-Attachment {
                height: 50vh;
            }

            .section-title--Projects--Portfolio-Attachment {
                font-size: 2.5rem;
            }

            .modal-thumbnails--Projects--Portfolio-Attachment {
                overflow-x: auto;
                padding: 10px 5px;
            }
        }
    </style>
</head>
<body>
    <div class="progress-bar--Projects--Portfolio-Attachment"></div>
    <div class="scroll-container--Projects--Portfolio-Attachment">
        <section class="section--Projects--Portfolio-Attachment">
            <div class="content--Projects--Portfolio-Attachment">
                <div class="section-subtitle--Projects--Portfolio-Attachment">Fase 1</div>
                <h2 class="section-title--Projects--Portfolio-Attachment">PREPARE FOR TAKE-OFF</h2>
                <p class="section-text--Projects--Portfolio-Attachment">
                    The Gateway to Space at Spaceport America is our operational center where our team of experts will guide you through curated activities designed to prepare your mind and body for spaceflight.
                </p>
            </div>
            <div class="image-container--Projects--Portfolio-Attachment" data-phase="1">
                <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-RDrQNfekaklBM4noT7RujqROGOjR54.png" alt="PreparaciÃ³n" class="parallax-image--Projects--Portfolio-Attachment">
            </div>
        </section>

        <section class="section--Projects--Portfolio-Attachment">
            <div class="content--Projects--Portfolio-Attachment">
                <div class="section-subtitle--Projects--Portfolio-Attachment">Fase 2</div>
                <h2 class="section-title--Projects--Portfolio-Attachment">ARRIVAL TO NEW MEXICO</h2>
                <p class="section-text--Projects--Portfolio-Attachment">
                    Welcome to New Mexico! You will have ample time to settle into your luxury accommodations and prepare for your spaceflight experience.
                </p>
            </div>
            <div class="image-container--Projects--Portfolio-Attachment" data-phase="2">
                <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-XiVRa6Waq3ONEEqNruuCuDOy8gG1RW.png" alt="New Mexico" class="parallax-image--Projects--Portfolio-Attachment">
            </div>
        </section>

        <section class="section--Projects--Portfolio-Attachment">
            <div class="content--Projects--Portfolio-Attachment">
                <div class="section-subtitle--Projects--Portfolio-Attachment">Fase 3</div>
                <h2 class="section-title--Projects--Portfolio-Attachment">INTRODUCTION TO SPACEFLIGHT</h2>
                <p class="section-text--Projects--Portfolio-Attachment">
                    Learn the fundamentals of spaceflight and what to expect during your journey beyond Earth's atmosphere.
                </p>
            </div>
            <div class="image-container--Projects--Portfolio-Attachment" data-phase="3">
                <img src="/placeholder.svg?height=800&width=600" alt="Spaceflight" class="parallax-image--Projects--Portfolio-Attachment">
            </div>
        </section>
    </div>

    <!-- Add Modal HTML -->
    <div class="modal--Projects--Portfolio-Attachment" id="imageModal">
        <div class="modal-content--Projects--Portfolio-Attachment">
            <button class="modal-close--Projects--Portfolio-Attachment">&times;</button>
            <img src="/placeholder.svg" alt="" class="modal-main-image--Projects--Portfolio-Attachment" id="modalMainImage">
            <div class="modal-thumbnails--Projects--Portfolio-Attachment" id="modalThumbnails">
                <!-- Thumbnails will be added here dynamically -->
            </div>
        </div>
    </div>

    <script>
        let lastScrollTop = 0;
        const sections = document.querySelectorAll('.section--Projects--Portfolio-Attachment');
        const contents = document.querySelectorAll('.content--Projects--Portfolio-Attachment');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active--Projects--Portfolio-Attachment');
                } else {
                    entry.target.classList.remove('active--Projects--Portfolio-Attachment');
                }
            });
        }, {
            threshold: 0.1
        });

        sections.forEach(section => {
            observer.observe(section);
        });

        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            
            const height = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrolled / height) * 100;
            document.querySelector('.progress-bar--Projects--Portfolio-Attachment').style.width = `${progress}%`;

            const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;

            contents.forEach((content, index) => {
                const section = sections[index];
                const rect = section.getBoundingClientRect();
                const sectionTop = rect.top + window.pageYOffset;
                const sectionBottom = sectionTop + rect.height;

                if (currentScrollTop > lastScrollTop) {
                    // Scrolling down
                    if (currentScrollTop > sectionTop && currentScrollTop < sectionBottom) {
                        const progress = (currentScrollTop - sectionTop) / rect.height;
                        content.style.opacity = 1 - progress;
                        content.style.transform = `translateY(${progress * 50}px)`;
                    }
                } else {
                    // Scrolling up
                    if (currentScrollTop > sectionTop - window.innerHeight && currentScrollTop < sectionBottom - window.innerHeight) {
                        const progress = 1 - (sectionBottom - currentScrollTop - window.innerHeight) / rect.height;
                        content.style.opacity = progress;
                        content.style.transform = `translateY(${(1 - progress) * 50}px)`;
                    }
                }
            });

            document.querySelectorAll('.parallax-image--Projects--Portfolio-Attachment').forEach(image => {
                const parent = image.parentElement;
                const parentRect = parent.getBoundingClientRect();
                const parentMiddle = parentRect.top + parentRect.height / 2;
                const windowMiddle = window.innerHeight / 2;
                const difference = parentMiddle - windowMiddle;
                const speed = 0.15;
                
                image.style.transform = `scale(1.1) translateY(${difference * speed}px)`;
            });

            lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop;
        }, false);

        // Modal functionality
        const modal = document.getElementById('imageModal');
        const modalMainImage = document.getElementById('modalMainImage');
        const modalThumbnails = document.getElementById('modalThumbnails');
        const closeButton = document.querySelector('.modal-close--Projects--Portfolio-Attachment');
        const imageContainers = document.querySelectorAll('.image-container--Projects--Portfolio-Attachment');

        // Define image sources for each phase
        const phaseImages = {
            1: [
                "https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-RDrQNfekaklBM4noT7RujqROGOjR54.png",
                "https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-RDrQNfekaklBM4noT7RujqROGOjR54.png",
                "https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-RDrQNfekaklBM4noT7RujqROGOjR54.png"
            ],
            2: [
                "https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-XiVRa6Waq3ONEEqNruuCuDOy8gG1RW.png",
                "/placeholder.svg?height=800&width=600",
                "/placeholder.svg?height=800&width=600"
            ],
            3: [
                "/placeholder.svg?height=800&width=600",
                "/placeholder.svg?height=800&width=600",
                "/placeholder.svg?height=800&width=600"
            ]
        };

        // Add click event to all image containers
        imageContainers.forEach((container) => {
            container.addEventListener('click', () => {
                const phase = container.getAttribute('data-phase');
                openModal(phase);
            });
        });

        function openModal(phase) {
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            updateModalContent(phase, 0);
        }

        function updateModalContent(phase, selectedIndex) {
            const images = phaseImages[phase];
            
            // Update main image
            modalMainImage.src = images[selectedIndex];
            
            // Clear and rebuild thumbnails
            modalThumbnails.innerHTML = '';
            images.forEach((src, index) => {
                const thumb = document.createElement('img');
                thumb.src = src;
                thumb.classList.add('modal-thumbnail--Projects--Portfolio-Attachment');
                if (index === selectedIndex) {
                    thumb.classList.add('active');
                }
                thumb.addEventListener('click', () => {
                    updateModalContent(phase, index);
                });
                modalThumbnails.appendChild(thumb);
            });
        }

        // Close modal when clicking close button or outside the image
        closeButton.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });

        function closeModal() {
            modal.style.display = 'none';
            document.body.style.overflow = '';
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (modal.style.display === 'block') {
                if (e.key === 'Escape') {
                    closeModal();
                } else if (e.key === 'ArrowLeft') {
                    navigateModal(-1);
                } else if (e.key === 'ArrowRight') {
                    navigateModal(1);
                }
            }
        });

        function navigateModal(direction) {
            const currentPhase = modalMainImage.src.includes('RDrQNfekaklBM4noT7RujqROGOjR54') ? '1' : 
                                 modalMainImage.src.includes('XiVRa6Waq3ONEEqNruuCuDOy8gG1RW') ? '2' : '3';
            const currentImages = phaseImages[currentPhase];
            const currentIndex = currentImages.indexOf(modalMainImage.src);
            let newIndex = currentIndex + direction;
            
            if (newIndex >= currentImages.length) {
                newIndex = 0;
            } else if (newIndex < 0) {
                newIndex = currentImages.length - 1;
            }
            
            updateModalContent(currentPhase, newIndex);
        }

        document.documentElement.style.scrollBehavior = 'smooth';
    </script>
</body>
</html>